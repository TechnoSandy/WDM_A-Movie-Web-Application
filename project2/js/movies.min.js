function initialize(){}function sendRequest(){var e=new XMLHttpRequest,t=encodeURI(document.getElementById("form-input").value);e.open("GET","php/proxy.php?method=/3/search/movie&query="+t),e.setRequestHeader("Accept","application/json"),e.onreadystatechange=function(){if(4==this.readyState){var e=JSON.parse(this.responseText),t=JSON.stringify(e,void 0,2);resultObject=e.results.length,createList(t,e)}},e.send(null)}function deleteList(){for(var e=document.getElementById("orderedList");e.firstChild;)e.removeChild(e.firstChild);for(;movieID.length>0;)movieID.pop(),movieTitle.pop(),movieReleaseDate.pop(),movieDescription.pop(),movieImageURL.pop()}function createList(e,t){deleteList();for(var i=document.getElementById("orderedList"),n=0;resultObject>n;n++){var r=document.createElement("li"),a=document.createElement("p"),s=document.createElement("img"),o=document.createElement("p"),l=document.createElement("p"),d=document.createElement("p");l.innerHTML="Summary : ",d.innerHTML="Image : ",r.setAttribute("id","li"+n),a.setAttribute("id","title"+n),a.setAttribute("onclick","titleClicked(this);"),o.setAttribute("id","summary"+n),o.setAttribute("style","display : none;"),s.setAttribute("id","img"+n),s.setAttribute("style","display : none;"),l.setAttribute("style","display : none; text-decoration: underline;font-style: italic;font-weight: bold;"),d.setAttribute("style","display : none; text-decoration: underline;font-style: italic;font-weight: bold;"),movieID.push(t.results[n].id),movieTitle.push(t.results[n].title),movieReleaseDate.push(t.results[n].release_date),t.results[n].overview?movieDescription.push(t.results[n].overview):movieDescription.push("NO DESCRIPTION FOR THIS MOVIE"),t.results[n].poster_path?movieImageURL.push("https://image.tmdb.org/t/p/w500/"+t.results[n].poster_path):t.results[n].backdrop_path?movieImageURL.push("https://image.tmdb.org/t/p/w500/"+t.results[n].backdrop_path):movieImageURL.push("https://via.placeholder.com/350x150"),s.setAttribute("src",movieImageURL[n]),o.innerHTML=movieDescription[n],a.innerHTML=" Movie Title: &nbsp; "+movieTitle[n]+" &nbsp; Release: "+movieReleaseDate[n],r.appendChild(a),a.appendChild(l),a.appendChild(o),a.appendChild(d),a.appendChild(s),i.appendChild(r)}}function titleClicked(e){getMovieGenre(e),getMovieCast(e);for(var t=0;t<e.children.length;t++)"none"===e.children[t].style.display?e.children[t].style.display="block":e.children[t].style.display="none"}function getMovieGenre(e){var t=document.createElement("p");t.innerHTML="Genere : ",t.setAttribute("style","display : none; text-decoration: underline;font-style: italic;font-weight: bold;");var i=document.getElementById("title"+e.id.match(/\d+/)[0]);i.appendChild(t);var n=document.createElement("p");document.getElementById("genere"+e.id.match(/\d+/)[0])||(n.setAttribute("id","genere"+e.id.match(/\d+/)[0]),n.setAttribute("style","display : none;"),i.appendChild(n));var r=e.id.match(/\d+/)[0],a=new XMLHttpRequest;a.open("GET","php/proxy.php?method=/3/movie/"+movieID[r]),a.setRequestHeader("Accept","application/json"),a.onreadystatechange=function(){if(4==this.readyState)for(var e=JSON.parse(this.responseText),t=0;t<e.genres.length;t++)n.innerHTML+=e.genres[t].name+","},a.send(null)}function getMovieCast(e){var t=document.createElement("p");t.innerHTML="Cast : ",t.setAttribute("style","display : none; text-decoration: underline;font-style: italic;font-weight: bold;");var i=document.getElementById("title"+e.id.match(/\d+/)[0]);i.appendChild(t);var n=document.createElement("p");document.getElementById("cast"+e.id.match(/\d+/)[0])||(n.setAttribute("id","cast"+e.id.match(/\d+/)[0]),n.setAttribute("style","display : none;"),i.appendChild(n));var r,a=e.id.match(/\d+/)[0],s=new XMLHttpRequest;s.open("GET","php/proxy.php?method=/3/movie/"+movieID[a]+"/credits"),s.setRequestHeader("Accept","application/json"),s.onreadystatechange=function(){if(4==this.readyState){var e=JSON.parse(this.responseText);r=e.cast.length>5?5:e.cast.length;for(var t=0;r>t;t++)n.innerHTML+=e.cast[t].name+","}},s.send(null)}var resultObject,movieID=new Array,movieTitle=new Array,movieReleaseDate=new Array,movieDescription=new Array,movieImageURL=new Array;