function initialize(){}function sendRequest(){var e=new XMLHttpRequest,t=encodeURI(document.getElementById("form-input").value);e.open("GET","php/proxy.php?method=/3/search/movie&query="+t),e.setRequestHeader("Accept","application/json"),e.onreadystatechange=function(){if(4==this.readyState){var e=JSON.parse(this.responseText),t=JSON.stringify(e,void 0,2);resultObject=e.results.length,createList(t,e)}},e.send(null)}function deleteList(){for(var e=document.getElementById("orderedList");e.firstChild;)e.removeChild(e.firstChild);for(;movieID.length>0;)movieID.pop(),movieTitle.pop(),movieReleaseDate.pop(),movieDescription.pop(),movieImageURL.pop()}function createList(e,t){deleteList();for(var n=document.getElementById("orderedList"),i=0;resultObject>i;i++){var r=document.createElement("li");title=document.createElement("p"),movieID.push(t.results[i].id),movieTitle.push(t.results[i].title),movieReleaseDate.push(t.results[i].release_date),title.innerHTML=" Movie Title: &nbsp; "+movieTitle[i]+" &nbsp; Release: "+movieReleaseDate[i],title.setAttribute("onclick","titleClicked("+t.results[i].id+");"),r.appendChild(title),n.appendChild(r)}}function titleClicked(e){var t=document.getElementById("outputMSG");t.innerHTML="",getMovieGenre(e),getMovieCast(e)}function getMovieGenre(e){var t=document.createElement("p"),n=new XMLHttpRequest;n.open("GET","php/proxy.php?method=/3/movie/"+e),n.setRequestHeader("Accept","application/json"),n.onreadystatechange=function(){if(4==this.readyState){for(var e=JSON.parse(this.responseText),n=0;n<e.genres.length;n++)t.innerHTML="<b>Movie Genere : </b> "+e.genres[n].name;var i=document.getElementById("outputMSG"),r=document.createElement("p");r.innerHTML="<b>Title :</b> "+e.title;var a=document.createElement("p");a.innerHTML="<b>Release :</b>"+e.release_date;var o=document.createElement("p");o.innerHTML="<b>Description :</b>  "+e.overview;var p=document.createElement("img");e.poster_path?p.setAttribute("src"," http://image.tmdb.org/t/p/w185"+e.poster_path):e.backdrop_path?p.setAttribute("src"," http://image.tmdb.org/t/p/w185"+e.backdrop_path):p.setAttribute("src","https://via.placeholder.com/350x150"),i.appendChild(r),i.appendChild(a),i.appendChild(p),i.appendChild(o),i.appendChild(t)}},n.send(null)}function getMovieCast(e){var t=document.createElement("p"),n=document.createElement("p");n.innerHTML=" <b>Cast :</b>";var i,r=new XMLHttpRequest;r.open("GET","php/proxy.php?method=/3/movie/"+e+"/credits"),r.setRequestHeader("Accept","application/json"),r.onreadystatechange=function(){if(4==this.readyState){var e=JSON.parse(this.responseText);i=e.cast.length>5?5:e.cast.length;for(var n=0;i>n;n++)t.innerHTML+=e.cast[n].name+","}},r.send(null);var a=document.getElementById("outputMSG");a.appendChild(n),a.appendChild(t)}var resultObject,movieID=new Array,movieTitle=new Array,movieReleaseDate=new Array,movieDescription=new Array,movieImageURL=new Array,title;