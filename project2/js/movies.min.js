function initialize(){}function sendRequest(){var e=new XMLHttpRequest,t=encodeURI(document.getElementById("form-input").value);e.open("GET","php/proxy.php?method=/3/search/movie&query="+t),e.setRequestHeader("Accept","application/json"),e.onreadystatechange=function(){if(4==this.readyState){var e=JSON.parse(this.responseText),t=JSON.stringify(e,void 0,2);resultObject=e.results.length,createList(t,e)}},e.send(null)}function deleteList(){for(var e=document.getElementById("orderedList");e.firstChild;)e.removeChild(e.firstChild);for(;movieID.length>0;)movieID.pop(),movieTitle.pop(),movieReleaseDate.pop(),movieDescription.pop(),movieImageURL.pop()}function createList(e,t){deleteList();for(var i=document.getElementById("orderedList"),s=0;resultObject>s;s++){var r=document.createElement("li"),n=document.createElement("p"),a=document.createElement("img"),o=document.createElement("p");r.setAttribute("id","li"+s),n.setAttribute("id","title"+s),n.setAttribute("onclick","titleClicked(this);"),o.setAttribute("id","summary"+s),o.setAttribute("style","display : none;"),a.setAttribute("id","img"+s),a.setAttribute("style","display : none;"),movieID.push(t.results[s].id),movieTitle.push(t.results[s].title),movieReleaseDate.push(t.results[s].release_date),t.results[s].overview?movieDescription.push(t.results[s].overview):movieDescription.push("NO DESCRIPTION FOR THIS MOVIE"),t.results[s].poster_path?movieImageURL.push("https://image.tmdb.org/t/p/w500/"+t.results[s].poster_path):t.results[s].backdrop_path?movieImageURL.push("https://image.tmdb.org/t/p/w500/"+t.results[s].backdrop_path):movieImageURL.push("https://via.placeholder.com/350x150"),a.setAttribute("src",movieImageURL[s]),o.innerHTML=movieDescription[s],n.innerHTML=" Movie Title: &nbsp; "+movieTitle[s]+" &nbsp; Release: "+movieReleaseDate[s],r.appendChild(n),n.appendChild(o),n.appendChild(a),i.appendChild(r)}}function titleClicked(e){getMovieGenre(e),getMovieCast(e);for(var t=0;t<e.children.length;t++)"none"===e.children[t].style.display?e.children[t].style.display="block":e.children[t].style.display="none"}function getMovieGenre(e){var t=document.getElementById("title"+e.id.slice(-1)),i=document.createElement("p");document.getElementById("genere"+e.id.slice(-1))||(i.setAttribute("id","genere"+e.id.slice(-1)),i.setAttribute("style","display : none;"),t.appendChild(i));var s=e.id.slice(-1),r=new XMLHttpRequest;r.open("GET","php/proxy.php?method=/3/movie/"+movieID[s]),r.setRequestHeader("Accept","application/json"),r.onreadystatechange=function(){if(4==this.readyState)for(var e=JSON.parse(this.responseText),t=0;t<e.genres.length;t++)i.innerHTML+=e.genres[t].name+","},r.send(null)}function getMovieCast(e){var t=document.getElementById("title"+e.id.slice(-1)),i=document.createElement("p");document.getElementById("cast"+e.id.slice(-1))||(i.setAttribute("id","cast"+e.id.slice(-1)),i.setAttribute("style","display : none;"),t.appendChild(i));var s,r=e.id.slice(-1),n=new XMLHttpRequest;n.open("GET","php/proxy.php?method=/3/movie/"+movieID[r]+"/credits"),n.setRequestHeader("Accept","application/json"),n.onreadystatechange=function(){if(4==this.readyState){var e=JSON.parse(this.responseText);s=e.cast.length>5?5:e.cast.length;for(var t=0;s>t;t++)i.innerHTML+=e.cast[t].name+","}},n.send(null)}var resultObject,movieID=new Array,movieTitle=new Array,movieReleaseDate=new Array,movieDescription=new Array,movieImageURL=new Array;