function initialize(){}function sendRequest(){var e=new XMLHttpRequest,t=encodeURI(document.getElementById("form-input").value);e.open("GET","php/proxy.php?method=/3/search/movie&query="+t),e.setRequestHeader("Accept","application/json"),e.onreadystatechange=function(){if(4==this.readyState){var e=JSON.parse(this.responseText),t=JSON.stringify(e,void 0,2);resultObject=e.results.length,createList(t,e)}},e.send(null)}function deleteList(){for(var e=document.getElementById("orderedList");e.firstChild;)e.removeChild(e.firstChild);for(;movieID.length>0;)movieID.pop(),movieTitle.pop(),movieReleaseDate.pop(),movieDescription.pop(),movieImageURL.pop(),movieGenre.pop(),movieCast.pop()}function createList(e,t){deleteList();for(var i=document.getElementById("orderedList"),s=0;resultObject>s;s++){var r=document.createElement("li"),o=document.createElement("p"),n=document.createElement("img"),a=document.createElement("p");r.setAttribute("id","li"+s),o.setAttribute("id","title"+s),o.setAttribute("onclick","titleClicked(this);"),a.setAttribute("id","summary"+s),a.setAttribute("style","display : none;"),n.setAttribute("id","img"+s),n.setAttribute("style","display : none;"),movieID.push(t.results[s].id),movieTitle.push(t.results[s].title),movieReleaseDate.push(t.results[s].release_date),t.results[s].overview?movieDescription.push(t.results[s].overview):movieDescription.push("NO DESCRIPTION FOR THIS MOVIE"),t.results[s].poster_path?movieImageURL.push("https://image.tmdb.org/t/p/w185_and_h278_bestv2"+t.results[s].poster_path):t.results[s].backdrop_path?movieImageURL.push("https://image.tmdb.org/t/p/w185_and_h278_bestv2"+t.results[s].backdrop_path):movieImageURL.push("https://via.placeholder.com/350x150"),n.setAttribute("src",movieImageURL[s]),a.innerHTML=movieDescription[s],o.innerHTML=" Movie Title: &nbsp; "+movieTitle[s]+" &nbsp; Release: "+movieReleaseDate[s],r.appendChild(o),o.appendChild(a),o.appendChild(n),i.appendChild(r)}}function titleClicked(e){getMovieGenre(e),getMovieCast(e);for(var t=0;t<e.children.length;t++)"none"===e.children[t].style.display?e.children[t].style.display="block":e.children[t].style.display="none"}function getMovieGenre(e){var t=e.id.slice(-1),i=new XMLHttpRequest;i.open("GET","php/proxy.php?method=/3/movie/"+movieID[t]),i.setRequestHeader("Accept","application/json"),i.onreadystatechange=function(){if(4==this.readyState)for(var e=JSON.parse(this.responseText),t=0;t<e.genres.length;t++)console.log(e.genres[t].name)},i.send(null)}function getMovieCast(e){var t=e.id.slice(-1),i=new XMLHttpRequest;i.open("GET","php/proxy.php?method=/3/movie/"+movieID[t]+"/credits"),i.setRequestHeader("Accept","application/json"),i.onreadystatechange=function(){if(4==this.readyState){JSON.parse(this.responseText)}},i.send(null)}var resultObject,movieID=new Array,movieTitle=new Array,movieReleaseDate=new Array,movieDescription=new Array,movieImageURL=new Array,movieGenre=new Array,movieCast=new Array;